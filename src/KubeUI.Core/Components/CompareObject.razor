@using BlazorMonaco
@using YamlDotNet.System.Text.Json

<KubeMonacoEditor Value="@diff" Language="yaml" />

@code {
    [Parameter] public IKubernetesObject<V1ObjectMeta> Left { get; set; }
    [Parameter] public IKubernetesObject<V1ObjectMeta> Right { get; set; }

    private string diff;

    protected override void OnInitialized()
    {
        var result = ObjectCompare.CompareObjects(Left, Right);

        if (result.Document != null)
        {
            diff = YamlConverter.Serialize(result.Document);    
        }
    }
}
